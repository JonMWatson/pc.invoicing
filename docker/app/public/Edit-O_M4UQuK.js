import{u as _,cm as T,a as L,w,j as e,C as D,cp as F,c9 as n,S as N}from"./bundle.D3-hVUGj.js";import{C as P}from"./ClientSelector-DtB3q7fn.js";import{u as S,I as k,a as R}from"./useProductColumns-BqpEcmPs.js";import{C as b,a as E}from"./CreditFooter-g7_eypts.js";import{e as O}from"./hooks-DdpVpzmL.js";import{a as U}from"./CreditStatus-DFPZx7rF.js";import"./ClientActionButtons-YTWpr-RA.js";import"./InvoiceViewer-CknzAqf8.js";import"./useInvoiceColumns-YKQxY9Gc.js";import"./InvoiceStatus-CQhnxHGD.js";import"./invoice-status-We6cAxTk.js";function V(){const[l]=_(),c=T(),{credit:t,errors:o,client:d,invoiceSum:m,isDefaultTerms:p,setIsDefaultTerms:u,isDefaultFooter:C,setIsDefaultFooter:x}=c,r=L(),a=w(),h=S(),{handleChange:i,handleInvitationChange:f,handleLineItemChange:j,handleLineItemPropertyChange:y,handleCreateLineItem:v,handleDeleteLineItem:g}=O({client:d});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx(D,{className:"col-span-12 xl:col-span-4 h-max px-6 py-2 shadow-sm",style:{borderColor:r.$24},children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[t&&e.jsxs("div",{className:"flex items-center space-x-9",children:[e.jsx("span",{className:"text-sm font-medium",style:{color:r.$22},children:l("status")}),e.jsx("div",{children:e.jsx(U,{entity:t})})]}),e.jsx(P,{resource:t,onChange:s=>i("client_id",s),onClearButtonClick:()=>i("client_id",""),onLocationChange:s=>i("location_id",s),onContactCheckboxChange:f,errorMessage:o==null?void 0:o.errors.client_id,readonly:!0,textOnly:!0})]})}),e.jsx(b,{handleChange:i,errors:o}),e.jsx("div",{className:"col-span-12",children:t?e.jsx(F,{type:"product",resource:t,items:t.line_items.filter(s=>[n.Product,n.UnpaidFee,n.PaidFee,n.LateFee].includes(s.type_id)),columns:h,relationType:"client_id",onLineItemChange:j,onSort:s=>i("line_items",s),onLineItemPropertyChange:y,onCreateItemClick:v,onDeleteRowClick:g}):e.jsx(N,{})}),e.jsx(E,{handleChange:i,errors:o,isDefaultFooter:C,isDefaultTerms:p,setIsDefaultFooter:x,setIsDefaultTerms:u}),t&&e.jsx(k,{relationType:"client_id",resource:t,invoiceSum:m,onChange:(s,I)=>i(s,I)})]}),(a==null?void 0:a.show_pdf_preview)&&e.jsx("div",{className:"my-4",children:t&&e.jsx(R,{for:"invoice",resource:t,entity:"credit",relationType:"client_id",endpoint:"/api/v1/live_preview?entity=:entity",withRemoveLogoCTA:!0})})]})}export{V as default};
