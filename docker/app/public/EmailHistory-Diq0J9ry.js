import{u as p,bO as y,a as f,bq as h,p as l,j as s,C as x,b0 as j,S as g,r as v,e as E}from"./bundle.D3-hVUGj.js";import{E as b}from"./EmailRecord-zCEqxR7S.js";function N(){const[r]=p(),{id:t}=y(),o=f(),c=h(),[n,m]=l.useState(!0),[e,d]=l.useState([]),u=async()=>{const i=await c.fetchQuery(["/api/v1/invoices",t,"emailHistory"],()=>v("POST",E("/api/v1/emails/entityHistory"),{entity:"invoice",entity_id:t}),{staleTime:1/0}).then(a=>a.data);m(!1),d(i)};return l.useEffect(()=>{t&&u()},[t]),s.jsx(x,{title:r("email_history"),className:"shadow-sm",style:{borderColor:o.$24},headerStyle:{borderColor:o.$20},withoutBodyPadding:!0,children:s.jsxs("div",{className:j("flex w-full px-2 pt-2",{"pb-10":e==null?void 0:e.length,"pb-6":!e.length,"justify-center":e.length}),children:[n&&s.jsx("div",{className:"flex justify-center p-6",children:s.jsx(g,{})}),!n&&!e.length&&s.jsx("div",{className:"text-sm px-4 pt-3",children:r("email_history_empty")}),s.jsx("div",{className:"flex flex-col w-full lg:w-2/4 space-y-2",children:e.map((i,a)=>s.jsx(b,{className:"py-4",emailRecord:i,index:a,withAllBorders:!0},a))})]})})}export{N as default};
