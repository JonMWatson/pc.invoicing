import{a as _,w as f,cm as D,j as n,C as P,cp as w,S as L}from"./bundle.D3-hVUGj.js";import{u as T,I as F,a as S}from"./useProductColumns-BqpEcmPs.js";import{V as b,u as H,D as k,a as N,b as O,c as R,d as V,F as B}from"./useHandleProductChange-CN4-jjtp.js";import"./InvoiceViewer-CknzAqf8.js";function z(){const c=_(),l=f(),d=D(),{purchaseOrder:e,setPurchaseOrder:a,errors:r,invoiceSum:u,isDefaultFooter:m,setIsDefaultFooter:h,isDefaultTerms:C,setIsDefaultTerms:p}=d,x=T(),o=(s,t)=>{a(i=>i&&{...i,[s]:t})},v=H(o),g=O(a),I=N(a),j=V(a),y=R(a);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[n.jsx(P,{className:"col-span-12 xl:col-span-4 h-max shadow-sm",withContainer:!0,style:{borderColor:c.$24},children:n.jsx(b,{resource:e,onChange:s=>o("vendor_id",s),onClearButtonClick:()=>o("vendor_id",""),onContactCheckboxChange:(s,t)=>e&&v(e,s,t),initiallyVisible:!0,errorMessage:r==null?void 0:r.errors.vendor_id})}),e&&n.jsx(k,{purchaseOrder:e,handleChange:o,errors:r}),n.jsx("div",{className:"col-span-12",children:e?n.jsx(w,{type:"product",resource:e,items:e.line_items,columns:x,relationType:"vendor_id",onLineItemChange:(s,t)=>j(e,s,t),onSort:s=>o("line_items",s),onLineItemPropertyChange:(s,t,i)=>y(e,s,t,i),onCreateItemClick:()=>g(e),onDeleteRowClick:s=>I(e,s)}):n.jsx(L,{})}),e&&n.jsxs(n.Fragment,{children:[n.jsx(B,{purchaseOrder:e,handleChange:o,errors:r,isDefaultFooter:m,isDefaultTerms:C,setIsDefaultFooter:h,setIsDefaultTerms:p}),n.jsx(F,{relationType:"vendor_id",resource:e,invoiceSum:u,onChange:(s,t)=>o(s,t)})]})]}),(l==null?void 0:l.show_pdf_preview)&&n.jsx("div",{className:"my-4",children:e&&n.jsx(S,{for:"create",resource:e,entity:"purchase_order",relationType:"vendor_id",endpoint:"/api/v1/live_preview/purchase_order?entity=:entity"})})]})}export{z as default};
