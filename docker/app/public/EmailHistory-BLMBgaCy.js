import{u as p,bO as y,a as h,bq as f,p as i,j as s,C as x,b0 as j,S as g,r as E,e as b}from"./bundle.D3-hVUGj.js";import{E as w}from"./EmailRecord-zCEqxR7S.js";function S(){const[l]=p(),{id:t}=y(),o=h(),c=f(),[n,d]=i.useState(!0),[e,m]=i.useState([]),u=async()=>{const r=await c.fetchQuery(["/api/v1/purchase_orders",t,"emailHistory"],()=>E("POST",b("/api/v1/emails/entityHistory"),{entity:"purchase_order",entity_id:t}),{staleTime:1/0}).then(a=>a.data);d(!1),m(r)};return i.useEffect(()=>{t&&u()},[t]),s.jsx(x,{title:l("email_history"),className:"shadow-sm",style:{borderColor:o.$24},headerStyle:{borderColor:o.$20},withoutBodyPadding:!0,children:s.jsxs("div",{className:j("flex w-full px-2 pt-2",{"pb-10":e==null?void 0:e.length,"pb-6":!e.length,"justify-center":e.length}),children:[n&&s.jsx("div",{className:"flex justify-center p-6",children:s.jsx(g,{})}),!n&&!e.length&&s.jsx("div",{className:"text-sm px-4 pt-3",children:l("email_history_empty")}),s.jsx("div",{className:"flex flex-col w-full lg:w-2/4 space-y-2",children:e.map((r,a)=>s.jsx(w,{className:"py-4",emailRecord:r,index:a,withAllBorders:!0},a))})]})})}export{S as default};
