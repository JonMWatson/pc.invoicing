import{L as R,u as C,dt as E,bO as P,bn as B,i as n,Y as N,bp as F,p as i,f5 as V,a1 as _,j as s,Q as D,bR as I,bS as L,S as O,a5 as Q,a6 as U,bA as w}from"./bundle.D3-hVUGj.js";import{P as H}from"./PreviousNextNavigation-BpWEW6Fs.js";function q(){const{documentTitle:d}=R("edit_task"),[a]=C(),m=E(),{id:t}=P(),{data:o}=B({id:t}),p=[{name:a("edit"),href:n("/tasks/:id/edit",{id:t})},{name:a("documents"),href:n("/tasks/:id/documents",{id:t})}],b=N(),k=F(),[e,c]=i.useState(),[h,x]=i.useState(),[l,f]=i.useState(!1),T=(r,A)=>{c(u=>u&&{...u,[r]:A})},j=V({isFormBusy:l,setIsFormBusy:f,setErrors:x});i.useEffect(()=>{o&&c(o)},[o]);const{changeTemplateVisible:g,setChangeTemplateVisible:v,changeTemplateResources:y}=_(),S=[{name:a("tasks"),href:n("/tasks")},{name:a("edit_task"),href:n("/tasks/:id",{id:t})}];return s.jsxs(D,{breadcrumbs:S,title:d,...(b("edit_task")||k(e))&&e&&{navigationTopRight:s.jsx(w,{resource:e,onSaveClick:()=>j(e),actions:m,cypressRef:"taskActionDropdown",disableSaveButton:!e||l})},afterBreadcrumbs:s.jsx(H,{entity:"task"}),children:[e?s.jsxs("div",{className:"space-y-4",children:[s.jsx(I,{tabs:p}),s.jsx(L,{context:{errors:h,task:e,handleChange:T}})]}):s.jsx(O,{}),s.jsx(Q,{entity:"task",entities:y,visible:g,setVisible:v,labelFn:r=>s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx(U,{children:a("number")}),s.jsx("span",{children:r.number})]}),bulkUrl:"/api/v1/tasks/bulk"})]})}export{q as default};
