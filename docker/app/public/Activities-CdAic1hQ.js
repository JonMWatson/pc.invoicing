import{u as $,bO as k,a as S,br as i,f as B,b as F,j as s,C as q,b0 as T,S as A,bz as E,l as O,bh as P,bm as d,i as a,bB as z,H as L,r as R,e as D}from"./bundle.D3-hVUGj.js";const G=L.div`
  background-color: ${o=>o.theme.backgroundColor};

  &:hover {
    background-color: ${o=>o.theme.hoverBackgroundColor};
  }
`;function H(){const[o]=$();return e=>{var h,u,n,m,l,c,p,b,j,f,_,t,g,C;let r=P(`activity_${e.activity_type_id}`,{});const x={client:s.jsx(d,{to:a("/clients/:id",{id:(h=e.client)==null?void 0:h.hashed_id}),children:(u=e.client)==null?void 0:u.label}),user:((n=e.user)==null?void 0:n.label)??o("system"),invoice:s.jsx(d,{to:a("/invoices/:id/edit",{id:(m=e.invoice)==null?void 0:m.hashed_id}),children:(l=e==null?void 0:e.invoice)==null?void 0:l.label}),recurring_invoice:s.jsx(d,{to:a("/recurring_invoices/:id/edit",{id:(c=e==null?void 0:e.recurring_invoice)==null?void 0:c.hashed_id}),children:(p=e==null?void 0:e.recurring_invoice)==null?void 0:p.label}),contact:s.jsx(d,{to:a("/clients/:id/edit",{id:(b=e==null?void 0:e.contact)==null?void 0:b.hashed_id}),children:(j=e==null?void 0:e.contact)==null?void 0:j.label}),notes:(e==null?void 0:e.notes)&&s.jsxs(s.Fragment,{children:[s.jsx("br",{}),e==null?void 0:e.notes]}),payment_amount:(f=e==null?void 0:e.payment_amount)==null?void 0:f.label,payment:s.jsx(d,{to:a("/payments/:id/edit",{id:(_=e==null?void 0:e.payment)==null?void 0:_.hashed_id}),children:(t=e==null?void 0:e.payment)==null?void 0:t.label}),purchase_order:s.jsx(d,{to:a("/purchase_orders/:id/edit",{id:(g=e==null?void 0:e.purchase_order)==null?void 0:g.hashed_id}),children:(C=e==null?void 0:e.purchase_order)==null?void 0:C.label})};for(const[N,w]of Object.entries(x))r=z(r,`:${N}`,()=>w);return r}}function K(){const[o]=$(),{id:e}=k(),r=S(),x=H(),{timeFormat:h}=i(),{dateFormat:u}=B(),{data:n,isLoading:m}=F({queryKey:["/api/v1/activities/entity",e],queryFn:()=>R("POST",D("/api/v1/activities/entity"),{entity:"purchase_order",entity_id:e}).then(l=>l.data.data),enabled:!!e,staleTime:1/0});return s.jsx(q,{title:o("activity"),className:"shadow-sm",style:{borderColor:r.$24},headerStyle:{borderColor:r.$20},withoutBodyPadding:!0,children:s.jsxs("div",{className:T("w-full px-2 pt-2",{"pb-10":n&&n.length,"pb-6":!n||!n.length}),children:[m&&s.jsx("div",{className:"flex justify-center",children:s.jsx(A,{})}),n&&!n.length&&s.jsx("div",{className:"px-3 pt-3 text-sm",children:o("api_404")}),s.jsx("div",{className:"flex flex-col w-full",children:n==null?void 0:n.map(l=>s.jsxs(G,{className:"flex space-x-3 p-4 rounded-md flex-1 min-w-0 w-full",theme:{backgroundColor:r.$1,hoverBackgroundColor:r.$25},children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"p-2 rounded-full",style:{backgroundColor:r.$20},children:s.jsx(E,{size:"1.3rem",color:r.$16,filledColor:r.$16})})}),s.jsxs("div",{className:"flex flex-col space-y-0.5 flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm",style:{color:r.$3},children:x(l)}),s.jsxs("div",{className:"flex w-full items-center space-x-1 text-xs truncate",style:{color:r.$17},children:[s.jsx("span",{className:"whitespace-nowrap",children:O(l.created_at,`${u} ${h}`)}),s.jsx("span",{children:"-"}),s.jsx("span",{children:l.ip})]})]})]},l.id))})]})})}export{K as default,H as useGenerateActivityElement};
