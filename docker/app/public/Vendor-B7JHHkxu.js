import{u as h,M as w,bO as p,i as n,j as e,bP as v,d8 as C,L as T,f8 as P,f9 as k,a7 as E,Y as A,bp as B,p as D,f as L,a as O,Q as R,aY as S,bm as I,aZ as V,ce as F,bR as Q,bS as Y,bA as H,l as M}from"./bundle.D3-hVUGj.js";import{I as u}from"./InfoCard-DhU0axAB.js";import{u as Z}from"./useActions-DOcQgtvA.js";import{P as q}from"./PreviousNextNavigation-BpWEW6Fs.js";function z(m){const[i]=h(),c=w(),{vendor:s}=m,{id:o}=p();let r=[{name:i("purchase_orders"),href:n("/vendors/:id",{id:o})},{name:i("expenses"),href:n("/vendors/:id/expenses",{id:o})},{name:i("recurring_expenses"),href:n("/vendors/:id/recurring_expenses",{id:o})},{name:i("activity"),href:n("/vendors/:id/activities",{id:o})},{name:i("documents"),href:n("/vendors/:id/documents",{id:o}),formatName:()=>e.jsx(v,{numberOfDocuments:s==null?void 0:s.documents.length})}];return C.forEach(l=>{c(l.bitmask)||(r=r.filter(d=>d.name!==i(l.label)))}),r}function W(){var x,f;const{documentTitle:m,setDocumentTitle:i}=T("view_vendor"),{id:c}=p(),{data:s}=P({id:c}),o=k(),r=Z(),[l]=h(),d=E(),y=A(),b=B();D.useEffect(()=>{s&&s.name.length>=1&&i(s.name)},[s]);const j=[{name:l("vendors"),href:"/vendors"},{name:m||"",href:n("/vendors/:id",{id:c})}],N=z({vendor:s}),{dateFormat:g}=L(),_=t=>t?M(t,g):l("never"),a=O();return e.jsxs(R,{title:m,breadcrumbs:j,...(y("edit_vendor")||b(s))&&s&&{navigationTopRight:e.jsx(H,{saveButtonLabel:l("edit_vendor"),onSaveClick:()=>d(n("/vendors/:id/edit",{id:c})),resource:s,actions:r})},afterBreadcrumbs:e.jsx(q,{entity:"vendor"}),children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx(u,{title:l("details"),className:"h-full 2xl:h-max col-span-12 lg:col-span-4 shadow-sm p-4",style:{borderColor:a.$24},withoutPadding:!0,children:e.jsxs("div",{className:"flex flex-col pt-1 space-y-3 h-44 overflow-y-auto",children:[s&&e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("span",{className:"text-sm font-medium",style:{color:a.$22},children:l("status")}),e.jsx("div",{children:e.jsx(S,{entity:s})})]}),(s==null?void 0:s.id_number)&&e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("span",{className:"text-sm font-medium",style:{color:a.$22},children:l("id_number")}),e.jsx("span",{className:"text-sm font-medium",style:{color:a.$3},children:s.id_number})]}),(s==null?void 0:s.vat_number)&&e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("span",{className:"text-sm font-medium",style:{color:a.$22},children:l("vat_number")}),e.jsx("span",{className:"text-sm font-medium",style:{color:a.$3},children:s.vat_number})]}),!!(s!=null&&s.last_login)&&e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("span",{className:"text-sm font-medium",style:{color:a.$22},children:l("last_login")}),e.jsx("span",{className:"text-sm font-medium",style:{color:a.$3},children:_(s==null?void 0:s.last_login)})]}),(s==null?void 0:s.website)&&e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("span",{className:"text-sm font-medium",style:{color:a.$22},children:l("website")}),e.jsx(I,{className:"font-medium whitespace-normal",to:s.website,external:!0,style:{textAlign:"left"},children:s.website})]})]})}),e.jsx(u,{title:l("address"),withoutTruncate:!0,className:"shadow-sm h-full 2xl:h-max col-span-12 lg:col-span-4 p-4",style:{borderColor:a.$24},withoutPadding:!0,children:e.jsxs("div",{className:"flex flex-col pt-1 h-44 overflow-y-auto",children:[(s==null?void 0:s.address1)&&e.jsx("span",{className:"break-all text-sm font-medium",style:{color:a.$3},children:s.address1}),(s==null?void 0:s.address2)&&e.jsx("span",{className:"break-all text-sm font-medium",style:{color:a.$3},children:s.address2}),((s==null?void 0:s.city)||(s==null?void 0:s.state)||(s==null?void 0:s.postal_code))&&e.jsxs("span",{className:"break-all text-sm font-medium",style:{color:a.$3},children:[s.city&&s.city,s.city&&s.state&&", ",s.state,(s.city||s.state)&&s.postal_code&&" ",s.postal_code]}),(s==null?void 0:s.country_id)&&((x=o.find(t=>t.id===s.country_id))==null?void 0:x.name)&&e.jsx("span",{className:"break-all text-sm font-medium",style:{color:a.$3},children:(f=o.find(t=>t.id===s.country_id))==null?void 0:f.name})]})}),e.jsx(u,{title:l("contacts"),className:"col-span-12 lg:col-span-4 shadow-sm h-full 2xl:h-max p-4",style:{borderColor:a.$24},withoutPadding:!0,children:e.jsx("div",{className:"flex flex-col h-44 w-full overflow-y-auto",children:s==null?void 0:s.contacts.map((t,$)=>e.jsx("div",{className:"flex justify-between items-center first:pt-1 py-4 border-b border-dashed",style:{borderColor:a.$21},children:e.jsxs("div",{className:"flex flex-col space-y-1 text-sm",children:[!!(t.first_name||t.last_name)&&e.jsxs("span",{className:"font-medium",style:{color:a.$3},children:[t.first_name," ",t.last_name]}),!!t.phone&&e.jsx("span",{className:"font-medium",style:{color:a.$22},children:t.phone}),!!t.email&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("a",{href:`mailto:${t.email}`,className:"font-medium",style:{color:a.$22},children:t.email}),e.jsx(V,{message:l("copy"),placement:"top",width:"auto",centerVertically:!0,children:e.jsx(F,{text:t.email})})]})]})},$))})})]}),e.jsx(Q,{tabs:N,className:"my-6"}),e.jsx(Y,{context:{displayName:(s==null?void 0:s.name)||""}})]})}export{W as default};
