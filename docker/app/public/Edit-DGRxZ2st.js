import{u as _,cm as P,a as D,w as L,j as e,C as T,fG as w,cp as N,S}from"./bundle.D3-hVUGj.js";import{u as F,I as H,a as b}from"./useProductColumns-BqpEcmPs.js";import{V as k,u as O,D as R,a as E,b as V,c as $,d as A,F as B}from"./useHandleProductChange-CN4-jjtp.js";import"./InvoiceViewer-CknzAqf8.js";function J(){const[d]=_(),u=P(),{purchaseOrder:s,setPurchaseOrder:a,errors:r,isDefaultFooter:m,isDefaultTerms:h,setIsDefaultFooter:p,setIsDefaultTerms:x,invoiceSum:C}=u,c=D(),l=L(),v=F(),o=(n,t)=>{a(i=>i&&{...i,[n]:t})},j=O(o),g=V(a),y=E(a),f=A(a),I=$(a);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx(T,{className:"col-span-12 xl:col-span-4 h-max px-6 py-2 shadow-sm",style:{borderColor:c.$24},children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[s&&e.jsxs("div",{className:"flex items-center space-x-11",children:[e.jsx("span",{className:"text-sm font-medium",style:{color:c.$22},children:d("status")}),e.jsx("div",{children:e.jsx(w,{entity:s})})]}),e.jsx(k,{resource:s,onChange:n=>o("vendor_id",n),onClearButtonClick:()=>o("vendor_id",""),onContactCheckboxChange:(n,t)=>s&&j(s,n,t),errorMessage:r==null?void 0:r.errors.vendor_id,readonly:!0})]})}),s&&e.jsx(R,{purchaseOrder:s,handleChange:o,errors:r}),e.jsx("div",{className:"col-span-12",children:s?e.jsx(N,{type:"product",resource:s,items:s.line_items,columns:v,relationType:"vendor_id",onLineItemChange:(n,t)=>f(s,n,t),onSort:n=>o("line_items",n),onLineItemPropertyChange:(n,t,i)=>I(s,n,t,i),onCreateItemClick:()=>g(s),onDeleteRowClick:n=>y(s,n)}):e.jsx(S,{})}),s&&e.jsxs(e.Fragment,{children:[e.jsx(B,{purchaseOrder:s,handleChange:o,errors:r,isDefaultFooter:m,isDefaultTerms:h,setIsDefaultFooter:p,setIsDefaultTerms:x}),e.jsx(H,{relationType:"vendor_id",resource:s,invoiceSum:C,onChange:(n,t)=>o(n,t)})]})]}),(l==null?void 0:l.show_pdf_preview)&&e.jsx("div",{className:"my-4",children:s&&e.jsx(b,{for:"invoice",resource:s,entity:"purchase_order",relationType:"vendor_id",endpoint:"/api/v1/live_preview/purchase_order?entity=:entity",withRemoveLogoCTA:!0})})]})}export{J as default};
