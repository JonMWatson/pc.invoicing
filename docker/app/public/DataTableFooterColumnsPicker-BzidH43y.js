import{u as U,b2 as k,bD as D,a as E,b3 as P,p,j as s,ab as m,aa as B,bu as F,by as N,bc as h,bd as f,r as $,e as I,$ as M,be as w,bf as L}from"./bundle.D3-hVUGj.js";import{T as O}from"./DataTableColumnsPicker-nvfGKatE.js";function z(x){const[l]=U(),{table:c,columns:b}=x,d=k(),_=D(),g=E(),a=P(),[C,u]=p.useState(!1),[j,i]=p.useState(!1),y=e=>{var n,t,o,r;return!!((r=(o=(t=(n=a==null?void 0:a.company_user)==null?void 0:n.react_settings)==null?void 0:t.table_footer_columns)==null?void 0:o[c])!=null&&r.includes(e))},v=(e,n)=>{var o,r;let t=((r=(o=a==null?void 0:a.company_user)==null?void 0:o.react_settings.table_footer_columns)==null?void 0:r[c])||[];n?t=[...t,e]:t=t.filter(S=>S!==e),_(`company_user.react_settings.table_footer_columns.${c}`,t)},T=()=>{const e=h.cloneDeep(a);e&&!C&&(f.processing(),u(!0),$("PUT",I("/api/v1/company_users/:id",{id:e.id}),e).then(n=>{f.success("updated_settings"),h.set(e,"company_user",n.data.data),M(["company_users"]),d(w(a)),d(L()),i(!1)}).finally(()=>u(!1)))};return s.jsxs(s.Fragment,{children:[s.jsx(m,{className:"shadow-sm",type:"secondary",onClick:()=>i(!0),children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(O,{size:"1.3rem",color:g.$3}),s.jsxs("span",{className:"hidden 2xl:flex",children:[l("footer")," ",l("columns")]})]})}),s.jsxs(B,{title:l("footer"),visible:j,onClose:()=>i(!1),children:[s.jsx("div",{className:"flex flex-col",children:b.map((e,n)=>s.jsx(F,{leftSide:e.label,noExternalPadding:!0,withoutWrappingLeftSide:!0,pushContentToRight:!0,children:s.jsx(N,{checked:y(e.id),onValueChange:t=>v(e.id,t)})},n))}),s.jsx(m,{behavior:"button",onClick:T,children:l("save")})]})]})}export{z as D};
