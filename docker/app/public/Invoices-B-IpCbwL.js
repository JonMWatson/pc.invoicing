import{L as F,u as P,Y as R,g as D,p as t,Z as l,_ as V,a0 as w,w as N,a1 as B,O as L,j as e,Q as K,k as q,a2 as n,a3 as G,a4 as O,a5 as Q,a6 as u,$ as W}from"./bundle.D3-hVUGj.js";import{u as $}from"./Actions-OZ_Df7fS.js";import{u as H,a as M,d as U}from"./useInvoiceColumns-YKQxY9Gc.js";import{D as Y}from"./DataTableColumnsPicker-nvfGKatE.js";import{I as Z}from"./ImportButton-DQq538as.js";import{u as z,a as J}from"./useFooterColumns-BId9lE2U.js";import{i as X,a as ee,I as se}from"./InvoiceSlider-BY5dDvvT.js";import{D as ie}from"./DataTableFooterColumnsPicker-BzidH43y.js";import"./invoice-status-We6cAxTk.js";import"./InvoiceStatus-CQhnxHGD.js";import"./Import-4Hd9h9R0.js";import"./useDownloadPdfs-C_Q3GnYI.js";import"./payments-w44xId2A.js";import"./atoms-6F-ixHOP.js";import"./useSumTableColumn-CIYkE3cT.js";import"./PaymentStatus-Ba2_Ejbd.js";import"./payment-status-DaLbqgbM.js";import"./EmailRecord-zCEqxR7S.js";import"./CloudPlay-Dnx8RJ-8.js";import"./History-BTuPZ_tO.js";/**
 * Invoice Ninja (https://invoiceninja.com).
 *
 * @link https://github.com/invoiceninja/invoiceninja source repository
 *
 * @copyright Copyright (c) 2022. Invoice Ninja LLC (https://invoiceninja.com)
 *
 * @license https://www.elastic.co/licensing/elastic-license
 */function oe(){return[{column:"date",queryParameterKey:"date_range"},{column:"due_date",queryParameterKey:"due_date_range"}]}function Te(){const{documentTitle:a}=F("invoices"),[i]=P(),m=[{name:i("invoices"),href:"/invoices"}],d=R(),v=D(),[p,b]=t.useState(""),[f,x]=l(X),[c,r]=l(ee),{data:o}=V({id:p}),h=$(),g=w(),I=H(),C=N(),j=M(),k=oe(),T=z(),{footerColumns:_,allFooterColumns:S}=J();t.useEffect(()=>{o&&c&&x(o)},[o,c]),t.useEffect(()=>()=>r(!1),[]);const{changeTemplateVisible:y,setChangeTemplateVisible:A,changeTemplateResources:E}=B();return L({on:["App\\Events\\Invoice\\InvoiceWasPaid","App\\Events\\Invoice\\InvoiceWasViewed"],callback:()=>W(["invoices"])}),e.jsxs(K,{title:a,breadcrumbs:m,docsLink:"en/invoices",children:[e.jsx(q,{resource:"invoice",endpoint:"/api/v1/invoices?include=client.group_settings&without_deleted_clients=true&sort=id|desc",columns:I,footerColumns:_,bulkRoute:"/api/v1/invoices/bulk",linkToCreate:"/invoices/create",linkToEdit:"/invoices/:id/edit",withResourcefulActions:!0,customActions:h,bottomActionsKeys:["cancel_invoice"],customBulkActions:T,customFilters:g,customFilterPlaceholder:"status",rightSide:e.jsxs("div",{className:"flex items-center space-x-2",children:[!!C.show_table_footer&&e.jsx(ie,{table:"invoice",columns:S}),e.jsx(Y,{table:"invoice",columns:j,defaultColumns:U}),e.jsx(G,{type:"component",component:e.jsx(Z,{route:"/invoices/import"}),guards:[O(n("create_invoice"),n("edit_invoice"))]})]}),linkToCreateGuards:[n("create_invoice")],hideEditableOptions:!d("edit_invoice"),onTableRowClick:s=>{b(s.id),r(!0)},dateRangeColumns:k,enableSavingFilterPreference:!0}),!v("invoice",f)&&e.jsx(se,{}),e.jsx(Q,{entity:"invoice",entities:E,visible:y,setVisible:A,labelFn:s=>e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx(u,{children:i("number")}),e.jsx("span",{children:s.number})]}),bulkLabelFn:s=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(u,{children:[i("number"),":"]}),e.jsx("span",{children:s.number})]}),bulkUrl:"/api/v1/invoices/bulk"})]})}export{Te as default};
