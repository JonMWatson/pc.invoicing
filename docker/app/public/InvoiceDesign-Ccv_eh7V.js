import{u as j,ah as w,fY as T,i as P,cx as i,cy as a,L as E,bO as I,cK as L,fZ as O,bI as _,f_ as $,f$ as H,bL as z,j as t,p as x,eo as G,Q as K,bR as M,b0 as S,bS as Q,e as y,g0 as V,r as W,fj as Y,$ as Z}from"./bundle.D3-hVUGj.js";import{u as J}from"./atoms-BqWhr9Mf.js";import{I as U}from"./InvoiceViewer-CknzAqf8.js";/**
 * Invoice Ninja (https://invoiceninja.com).
 *
 * @link https://github.com/invoiceninja/invoiceninja source repository
 *
 * @copyright Copyright (c) 2022. Invoice Ninja LLC (https://invoiceninja.com)
 *
 * @license https://www.elastic.co/licensing/elastic-license
 */function X(){const[e]=j(),o=w(),{isCompanySettingsActive:s}=T();return[{name:e("general_settings"),href:"/settings/invoice_design"},{name:e("custom_designs"),href:"/settings/invoice_design/custom_designs",matcher:[()=>"/settings/invoice_design/custom_designs/create",c=>P("/settings/invoice_design/custom_designs/:id/edit",c)],enabled:s},{name:e("client"),href:"/settings/invoice_design/client_details",enabled:s},{name:e("company"),href:"/settings/invoice_design/company_details",enabled:s&&(i()||a())},{name:e("company_address"),href:"/settings/invoice_design/company_address",enabled:s&&(i()||a())},{name:e("invoice"),href:"/settings/invoice_design/invoice_details",enabled:s&&(i()||a())},{name:e("quote"),href:"/settings/invoice_design/quote_details",enabled:s&&(i()||a())},{name:e("credit"),href:"/settings/invoice_design/credit_details",enabled:s&&(i()||a())},{name:e("vendor"),href:"/settings/invoice_design/vendor_details",enabled:s&&(i()||a())},{name:e("purchase_order"),href:"/settings/invoice_design/purchase_order_details",enabled:s&&(i()||a())},{name:o!=null&&o.settings.sync_invoice_quote_columns?e("product_columns"):e("invoice_product_columns"),href:"/settings/invoice_design/product_columns",enabled:s&&(i()||a())},{name:e("quote_product_columns"),href:"/settings/invoice_design/quote_product_columns",enabled:s&&(i()||a())&&!(o!=null&&o.settings.sync_invoice_quote_columns)},{name:e("task_columns"),href:"/settings/invoice_design/task_columns",enabled:s&&(i()||a())},{name:e("total_fields"),href:"/settings/invoice_design/total_fields",enabled:s&&(i()||a())}]}function ne(){const[e]=j(),{documentTitle:o}=E("invoice_design"),{id:s}=I(),v=X(),c=L(),n=w(),q=O(),{isClientSettingsActive:A,isGroupSettingsActive:f}=T(),l=!c.pathname.includes("custom_designs"),h=_($),r=_(H),C=z(),g=c.pathname.includes("custom_designs")?c.pathname.endsWith("/custom_designs"):!0,p=()=>t.jsxs("div",{className:"flex space-x-0.5 items-center text-xs py-1 px-2 bg-[#2176FF26] rounded",children:[t.jsx("div",{children:t.jsx(V,{size:"1rem",color:"#2176FF"})}),t.jsx("span",{className:"font-medium",style:{color:"#2176FF"},children:e("pro")})]}),F=[{name:e("settings"),href:"/settings"},{name:e("invoice_design"),href:"/settings/invoice_design",afterName:t.jsx(p,{})}],N=[{name:e("settings"),href:"/settings"},{name:e("invoice_design"),href:"/settings/invoice_design"},{name:e("custom_designs"),href:"/settings/invoice_design/custom_designs"},{name:e("design"),href:s?P("/settings/invoice_design/custom_designs/:id/edit",{id:s}):"/settings/invoice_design/custom_designs/create",afterName:t.jsx(p,{})}],[B,k]=x.useState({client_id:"-1",entity_type:"invoice",group_id:"-1",settings:null,settings_type:"company"}),u=_(J),R=()=>{C();const d=[];u.map(({design_id:m,entity:D})=>{var b;d.push(W("POST",y("/api/v1/designs/set/default"),{design_id:m,entity:D,settings_level:f?"group_settings":q.level,...A&&{client_id:(b=n==null?void 0:n.settings)==null?void 0:b.id},...f&&{group_settings_id:r==null?void 0:r.id}}))}),Y.all(d).then(()=>{u.forEach(({entity:m})=>{Z([`${m}s`])})})};return x.useEffect(()=>{n!=null&&n.settings&&k(d=>d&&{...d,settings:n.settings})},[n==null?void 0:n.settings]),G({onClick:R,displayButton:l,disableSaveButton:h},[n,u,c,h]),t.jsxs(K,{title:o,breadcrumbs:g?F:N,children:[t.jsx(M,{tabs:v,visible:g,withoutDefaultTabSpace:!0,fullRightPadding:!0,paddingTabsHeight:"2.9rem"}),t.jsxs("div",{className:S("flex flex-col lg:flex-row gap-4",{"my-4":g}),children:[t.jsx("div",{className:S("w-full overflow-y-auto",{"lg:w-1/2":l}),children:t.jsx(Q,{})}),l&&t.jsx("div",{className:"w-full lg:w-1/2 max-h-[80vh] overflow-y-scroll",children:t.jsx(U,{link:y("/api/v1/live_design"),resource:B,method:"POST",withToast:!0})})]})]})}export{ne as default};
