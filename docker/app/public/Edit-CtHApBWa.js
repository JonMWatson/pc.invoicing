import{L as j,u as E,bO as T,f8 as B,p as e,i as C,bc as v,bL as P,j as a,Q as A,fg as F,bA as R,bd as n,r as _,e as D,$ as L}from"./bundle.D3-hVUGj.js";import{u as N}from"./useActions-DOcQgtvA.js";import{P as Q}from"./PreviousNextNavigation-BpWEW6Fs.js";function q(){const{documentTitle:l}=j("edit_vendor"),[r]=E(),{id:o}=T(),{data:t}=B({id:o}),[s,c]=e.useState(),[x,b]=e.useState(),[i,u]=e.useState(!1),[d,f]=e.useState([]),h=N(),y=[{name:r("vendors"),href:"/vendors"},{name:r("edit_vendor"),href:C("/vendors/:id/edit",{id:o})}];e.useEffect(()=>{t&&(c({...t}),f(v.cloneDeep(t.contacts)))},[t]);const S=P(),g=async()=>{i||(n.processing(),v.set(s,"contacts",d),u(!0),await S({excludeToasters:!0}),_("PUT",D("/api/v1/vendors/:id",{id:o}),s).then(()=>{n.success("updated_vendor"),L(["vendors"])}).catch(p=>{var m;((m=p.response)==null?void 0:m.status)===422&&(n.dismiss(),b(p.response.data))}).finally(()=>u(!1)))};return a.jsx(A,{title:l,breadcrumbs:y,navigationTopRight:s&&a.jsx(R,{onSaveClick:g,resource:s,actions:h,disableSaveButton:!s||i}),afterBreadcrumbs:a.jsx(Q,{entity:"vendor"}),children:s&&a.jsx(F,{vendor:s,setVendor:c,errors:x,contacts:d,setContacts:f,page:"edit"})})}export{q as default};
