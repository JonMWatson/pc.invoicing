import{j as e,u as f,a7 as v,a as b,f as y,p as w,b0 as a,ax as k,bF as N,i as g,bG as C,bH as $,ab as B,l as L,H as E,r as R,e as S,bd as _}from"./bundle.D3-hVUGj.js";/**
 * Invoice Ninja (https://invoiceninja.com).
 *
 * @link https://github.com/invoiceninja/invoiceninja source repository
 *
 * @copyright Copyright (c) 2022. Invoice Ninja LLC (https://invoiceninja.com)
 *
 * @license https://www.elastic.co/licensing/elastic-license
 */function W({color:t="#000",size:i="1.2rem"}){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",style:{width:i,height:i},viewBox:"0 0 18 18",children:[e.jsx("path",{d:"M1.75,5.75l6.767,3.733c.301,.166,.665,.166,.966,0l6.767-3.733",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),e.jsx("polyline",{points:"14.75 11.25 17.25 13.75 14.75 16.25",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),e.jsx("path",{d:"M16.25,9.264V5.25c0-1.104-.895-2-2-2H3.75c-1.105,0-2,.896-2,2v7.5c0,1.104,.895,2,2,2h6.211",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),e.jsx("line",{x1:"17.25",y1:"13.75",x2:"12.25",y2:"13.75",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})]})}const z=E.div`
  &:hover {
    background-color: ${t=>t.theme.hoverColor};
  }
`;function F(t){const[i]=f(),c=v(),s=b(),{dateFormat:d}=y(),{emailRecord:n,index:x,withBottomBorder:m,withEntityNavigationIcon:h,withAllBorders:p=!1}=t,[l,u]=w.useState(!!x),j=r=>{R("POST",S("/api/v1/reactivate_email/:id",{id:r})).then(()=>_.success("reactivated_email"))};return e.jsxs("div",{className:a("flex flex-col",{"border-b border-dashed":m,"border rounded-md shadow-sm":p}),style:{borderColor:s.$20,color:s.$3,colorScheme:s.$0},children:[e.jsxs(z,{className:a("flex justify-between pl-4 pr-6 py-3",t.className,{"cursor-pointer":!!n.events.length}),theme:{hoverColor:s.$25},onClick:()=>!!n.events.length&&u(r=>!r),children:[e.jsxs("div",{className:"flex flex-1 min-w-0 space-x-2",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"p-2 rounded-full",style:{backgroundColor:s.$15},children:e.jsx(W,{size:"1.3rem",color:s.$16})})}),e.jsxs("div",{className:"flex flex-col flex-1 min-w-0 pr-5",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm font-medium truncate",children:n.subject}),h&&e.jsx("div",{children:e.jsx(k,{className:"cursor-pointer",element:N,size:20,onClick:()=>c(g("/:entity/:id/edit",{id:n.entity_id,entity:`${n.entity}s`}))})})]}),e.jsxs("span",{className:"text-xs truncate",style:{color:s.$17},children:[i("to")," ",n.recipients]})]})]}),!!n.events.length&&e.jsxs("div",{className:"flex items-center",children:[l&&e.jsx(C,{color:s.$3,size:"1.1rem"}),!l&&e.jsx($,{color:s.$3,size:"1.1rem"})]})]}),e.jsx("div",{className:a("pb-2",{hidden:l}),children:n.events.map((r,o)=>e.jsx("div",{className:"flex flex-1 min-w-0 px-5 text-sm",children:e.jsxs("div",{className:a("flex flex-col flex-1 min-w-0 space-y-2 py-2.5 border-b border-dashed",{"border-none":o===n.events.length-1}),style:{borderColor:s.$21},children:[e.jsxs("div",{className:"flex space-x-4 items-center justify-between truncate",children:[e.jsx("span",{style:{color:s.$17},children:i("recipient")}),e.jsxs("div",{className:"flex flex-col items-end space-y-0.5 space-x-2",children:[e.jsx("span",{className:"text-sm",children:r.recipient}),r.bounce_id&&e.jsx(B,{behavior:"button",type:"minimal",onClick:()=>j(r.bounce_id),children:i("reactivate")})]})]}),e.jsxs("div",{className:"flex space-x-4 items-center justify-between truncate",children:[e.jsx("span",{style:{color:s.$17},children:i("status")}),e.jsx("span",{children:r.status})]}),e.jsxs("div",{className:"flex space-x-4 items-center justify-between truncate",children:[e.jsx("span",{style:{color:s.$17},children:i("date")}),e.jsx("span",{children:L(r.date,d)})]})]})},o))})]})}export{F as E};
