import{u as z,w as E,f as L,I as H,J as V,K as $,aT as O,g as R,d as A,aU as G,aV as Y,aW as I,j as s,l as c,D as w,i as j,aX as Z,aY as J,aZ as T,a_ as N,a$ as m,b0 as F}from"./bundle.D3-hVUGj.js";import{I as K}from"./InvoiceStatus-CQhnxHGD.js";function S(a){let i="";return a.invitations.map(o=>{o.viewed_date&&(i=o.viewed_date)}),i}const U=["status","number","client","amount","balance","date","due_date"];function W(){const[a,i,o,u]=I({entity:"invoice"});return["status","number","amount","net_amount","client","balance","date","due_date","auto_bill_enabled","client_postal_code","archived_at","client_city","client_country","client_state","contact_email","contact_name",a,i,o,u,"discount","documents","entity_state","exchange_rate","is_deleted","is_viewed","last_sent_date","last_sent_template","next_send_date","partial_due","partial_due_date","po_number","private_notes","public_notes","reminder1_sent","reminder2_sent","reminder3_sent","reminder_last_sent","tax_amount","created_at","updated_at"]}function B(){var C;W();const[a]=z(),i=E(),{dateFormat:o}=L(),u=H(),b=V(),D=$({withTimezone:!0,formatOnlyDate:!0}),f=O(),p=R(),d=A(),M=G(),r=Y(),[y,x,h,g]=I({entity:"invoice"}),k=[{column:"status",id:"status_id",label:a("status"),format:(t,e)=>s.jsx(K,{entity:e})},{column:"number",id:"number",label:a("number"),format:(t,e)=>s.jsx(w,{to:j("/invoices/:id/edit",{id:e.id}),renderSpan:p("invoice",e),children:t})},{column:"amount",id:"amount",label:a("amount"),format:(t,e)=>{var n,l;return d(t,(n=e.client)==null?void 0:n.country_id,(l=e.client)==null?void 0:l.settings.currency_id)}},{column:"net_amount",id:"amount",label:a("net_amount"),format:(t,e)=>{var n,l;return d(Number(t)-Number(e.total_taxes||0),(n=e.client)==null?void 0:n.country_id,(l=e.client)==null?void 0:l.settings.currency_id)}},{column:"client",id:"client_id",label:a("client"),format:(t,e)=>{var n;return s.jsx(w,{to:j("/clients/:id",{id:e.client_id}),renderSpan:p("client",e.client),children:(n=e.client)==null?void 0:n.display_name})}},{column:"balance",id:"balance",label:a("balance"),format:(t,e)=>{var n,l;return d(t,(n=e.client)==null?void 0:n.country_id,(l=e.client)==null?void 0:l.settings.currency_id)}},{column:"date",id:"date",label:a("date"),format:t=>c(t,o)},{column:"due_date",id:"due_date",label:a("due_date"),format:t=>c(t,o)},{column:"auto_bill_enabled",id:"auto_bill_enabled",label:a("auto_bill_enabled"),format:(t,e)=>e.auto_bill_enabled?a("Yes"):a("No")},{column:"client_postal_code",id:"client_id",label:a("client_postal_code"),format:(t,e)=>{var n;return(n=e.client)==null?void 0:n.postal_code}},{column:"archived_at",id:"archived_at",label:a("archived_at"),format:t=>c(t,o)},{column:"client_city",id:"client_id",label:a("client_city"),format:(t,e)=>{var n;return(n=e.client)==null?void 0:n.city}},{column:"client_country",id:"client_id",label:a("client_country"),format:(t,e)=>{var n,l,v;return((n=e.client)==null?void 0:n.country_id)&&((v=M((l=e.client)==null?void 0:l.country_id))==null?void 0:v.name)}},{column:"client_state",id:"client_id",label:a("client_state"),format:(t,e)=>{var n;return(n=e.client)==null?void 0:n.state}},{column:"contact_email",id:"client_id",label:a("contact_email"),format:(t,e)=>{var n;return e.client&&e.client.contacts.length>0&&s.jsx(Z,{text:(n=e.client)==null?void 0:n.contacts[0].email})}},{column:"contact_name",id:"client_id",label:a("contact_name"),format:(t,e)=>{var n,l;return e.client&&e.client.contacts.length>0&&`${(n=e.client)==null?void 0:n.contacts[0].first_name} ${(l=e.client)==null?void 0:l.contacts[0].last_name}`}},{column:"created_at",id:"created_at",label:a("created_at"),format:t=>c(t,o)},{column:y,id:"custom_value1",label:y,format:t=>r("invoice1",t==null?void 0:t.toString())},{column:x,id:"custom_value2",label:x,format:t=>r("invoice2",t==null?void 0:t.toString())},{column:h,id:"custom_value3",label:h,format:t=>r("invoice3",t==null?void 0:t.toString())},{column:g,id:"custom_value4",label:g,format:t=>r("invoice4",t==null?void 0:t.toString())},{column:"discount",id:"discount",label:a("discount"),format:(t,e)=>{var n,l;return e.is_amount_discount?d(t,(n=e.client)==null?void 0:n.country_id,(l=e.client)==null?void 0:l.settings.currency_id):`${f(t)} %`}},{column:"documents",id:"documents",label:a("documents"),format:(t,e)=>e.documents.length},{column:"entity_state",id:"id",label:a("entity_state"),format:(t,e)=>s.jsx(J,{entity:e})},{column:"exchange_rate",id:"exchange_rate",label:a("exchange_rate"),format:t=>f(t)},{column:"is_deleted",id:"is_deleted",label:a("is_deleted"),format:(t,e)=>e.is_deleted?a("yes"):a("no")},{column:"is_viewed",id:"id",label:a("is_viewed"),format:(t,e)=>S(e).length>0?c(S(e),o):a("no")},{column:"last_sent_date",id:"last_sent_date",label:a("last_sent_date"),format:t=>c(t,o)},{column:"last_sent_template",id:"id",label:a("last_sent_template"),format:()=>""},{column:"next_send_date",id:"next_send_date",label:a("next_send_date"),format:(t,e)=>D(t,"","",b(u(e.client,"timezone_id")).timeZone)},{column:"partial_due",id:"partial",label:a("partial"),format:(t,e)=>{var n,l;return d(t,(n=e.client)==null?void 0:n.country_id,(l=e.client)==null?void 0:l.settings.currency_id)}},{column:"partial_due_date",id:"partial_due_date",label:a("partial_due_date"),format:t=>c(t,o)},{column:"po_number",id:"po_number",label:a("po_number")},{column:"private_notes",id:"private_notes",label:a("private_notes"),format:t=>s.jsx(T,{width:"auto",tooltipElement:s.jsx("div",{className:"w-full max-h-48 overflow-auto whitespace-normal break-all",children:s.jsx("article",{className:F("prose prose-sm",{"prose-invert":!(i!=null&&i.dark_mode)}),dangerouslySetInnerHTML:{__html:m(t)}})}),children:s.jsx("span",{children:N(m(t)).slice(0,50)})})},{column:"public_notes",id:"public_notes",label:a("public_notes"),format:t=>s.jsx(T,{width:"auto",tooltipElement:s.jsx("div",{className:"w-full max-h-48 overflow-auto whitespace-normal break-all",children:s.jsx("article",{className:F("prose prose-sm",{"prose-invert":!(i!=null&&i.dark_mode)}),dangerouslySetInnerHTML:{__html:m(t)}})}),children:s.jsx("span",{children:N(m(t)).slice(0,50)})})},{column:"reminder1_sent",id:"reminder1_sent",label:a("reminder1_sent"),format:t=>c(t,o)},{column:"reminder2_sent",id:"reminder2_sent",label:a("reminder2_sent"),format:t=>c(t,o)},{column:"reminder3_sent",id:"reminder3_sent",label:a("reminder3_sent"),format:t=>c(t,o)},{column:"reminder_last_sent",id:"reminder_last_sent",label:a("reminder_last_sent"),format:t=>c(t,o)},{column:"tax_amount",id:"total_taxes",label:a("total_taxes"),format:(t,e)=>{var n,l;return d(t,(n=e.client)==null?void 0:n.country_id,(l=e.client)==null?void 0:l.settings.currency_id)}},{column:"updated_at",id:"updated_at",label:a("last_updated"),format:t=>c(t,o)}],_=((C=i==null?void 0:i.react_table_columns)==null?void 0:C.invoice)||U;return k.filter(t=>_.includes(t.column)).sort((t,e)=>_.indexOf(t.column)-_.indexOf(e.column))}export{W as a,U as d,S as r,B as u};
