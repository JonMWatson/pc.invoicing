import{u as x,Y as k,c6 as _,dX as f,j as t,aw as l,ax as m,aL as h,bd as v,aF as C,bj as b,L as A,dY as B,dZ as I,dV as T,Q as g,k as y,a2 as p,d_ as S,a3 as E,a4 as O}from"./bundle.D3-hVUGj.js";import{D as L}from"./DataTableColumnsPicker-nvfGKatE.js";import{I as F}from"./ImportButton-DQq538as.js";import"./Import-4Hd9h9R0.js";const G=()=>{const[e]=x(),n=k(),r=b(),c=_(),u=f(),a=o=>o.flatMap(({documents:s})=>s.map(({id:i})=>i)),d=o=>o.some(({documents:s})=>s.length),j=o=>o.every(({is_deleted:s})=>!s),w=o=>o.every(({is_deleted:s})=>!s),P=o=>o.every(({is_deleted:s})=>!s),D=(o,s)=>{const i=a(o);r(i,"download"),s([])};return[({selectedResources:o,setSelected:s})=>w(o)&&n("create_invoice")&&t.jsx(l,{onClick:()=>{c(o),s([])},icon:t.jsx(m,{element:h}),children:e("new_invoice")}),({selectedResources:o,setSelected:s})=>P(o)&&n("create_purchase_order")&&t.jsx(l,{onClick:()=>{u(o),s([])},icon:t.jsx(m,{element:h}),children:e("new_purchase_order")}),({selectedResources:o,setSelected:s})=>j(o)&&t.jsx(l,{onClick:()=>d(o)?D(o,s):v.error("no_documents_to_download"),icon:t.jsx(m,{element:C}),children:e("documents")})]};function V(){A("products");const[e]=x(),n=k(),r=[{name:e("products"),href:"/products"}],c=B(),u=I(),a=T(),d=G();return t.jsx(g,{title:e("products"),breadcrumbs:r,docsLink:"en/products",children:t.jsx(y,{resource:"product",columns:u,endpoint:"/api/v1/products?include=company&sort=id|desc",bulkRoute:"/api/v1/products/bulk",linkToCreate:"/products/create",linkToEdit:"/products/:id/edit",withResourcefulActions:!0,customActions:a,customBulkActions:d,rightSide:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(L,{table:"product",columns:c,defaultColumns:S}),t.jsx(E,{type:"component",guards:[O(p("create_product"),p("edit_product"))],component:t.jsx(F,{route:"/products/import"})})]}),linkToCreateGuards:[p("create_product")],hideEditableOptions:!n("edit_product"),enableSavingFilterPreference:!0})})}export{V as default};
